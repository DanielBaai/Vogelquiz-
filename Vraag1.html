<!DOCTYPE html>
<html lang="nl">
    <head>
        <meta charset="UTF-8">
        <title>Quizpagina 1</title>
        <style> 
            body {
                background-color: rgb(169, 222, 155);
            }
        </style>
    </head>
    <body>
        <h1>Vraag 1:</h1>
        <p>Welke vogel is dit? Luister naar het geluid van de vogel:</p>

        <!-- Audioplayer waar het geluid wordt afgespeeld -->
        <audio controls id="audioPlayer">
           <source id="audioSource" src="" type="audio/mp3">
           Je browser ondersteunt geen audio.
        </audio>
        <button id="antwoord1">Antwoord 1</button>
        <button id="antwoord2">Antwoord 2</button>
        <button id="antwoord3">Antwoord 3</button>
        <button id="antwoord4">Antwoord 4</button>
        <script>
            // Zet het vraagnummer voor Vraag 1 in localStorage (bij het starten van de quiz)
            if (!localStorage.getItem('huidigeVraagNummer')) {
                localStorage.setItem('huidigeVraagNummer', 1);
            }

            // Haal het huidige vraagnummer op uit localStorage
            let huidigeVraagNummer = parseInt(localStorage.getItem('huidigeVraagNummer'));

            console.log(huidigeVraagNummer);  // Controleer de waarde van het vraagnummer

            // Lijst van vogelgeluiden
            let vogelGeluiden = [
                { naam: "Blauwe Reiger", bestand: "audio/Blauwe Reiger.mp3" },
                { naam: "Boomklever", bestand: "audio/Boomklever.mp3" },
                { naam: "Boomkruiper", bestand: "audio/Boomkruiper.mp3" },
                { naam: "Ekster", bestand: "audio/Ekster.mp3" },
                { naam: "Fitis", bestand: "audio/Fitis.mp3" },
                { naam: "Gaai", bestand: "audio/Gaai.mp3" },
                { naam: "Gierzwaluw", bestand: "audio/Gierzwaluw.mp3" },
                { naam: "Groenling", bestand: "audio/Groenling.mp3" },
                { naam: "Grote bonte specht", bestand: "audio/Grote bonte specht.mp3" },
                { naam: "Heggemus", bestand: "audio/Heggemus.mp3" },
                { naam: "Holenduif", bestand: "audio/Holenduif.mp3" },
                { naam: "Houtduif", bestand: "audio/Houtduif.mp3" },
                { naam: "Huismus", bestand: "audio/Huismus.mp3" },
                { naam: "Kauw", bestand: "audio/Kauw.mp3" },
                { naam: "Kokmeeuw", bestand: "audio/Kokmeeuw.mp3" },
                { naam: "Koolmees", bestand: "audio/Koolmees.mp3" },
                { naam: "Meerkoet", bestand: "audio/Meerkoet.mp3" },
                { naam: "Merel", bestand: "audio/Merel.mp3" },
                { naam: "Nijlgans", bestand: "audio/Nijlgans.mp3" },
                { naam: "Pimpelmees", bestand: "audio/Pimpelmees.mp3" },
                { naam: "Putter", bestand: "audio/Putter.mp3" },
                { naam: "Roodborst", bestand: "audio/Roodborst.mp3" },
                { naam: "Scholekster", bestand: "audio/Scholekster.mp3" },
                { naam: "Soepeend", bestand: "audio/Soepeend.mp3" },
                { naam: "Spreeuw", bestand: "audio/Spreeuw.mp3" },
                { naam: "Stadsduif", bestand: "audio/Stadsduif.mp3" },
                { naam: "Tjiftjaf", bestand: "audio/tjiftjaf.mp3" },
                { naam: "Turkse tortel", bestand: "audio/Turkse tortel.mp3" },
                { naam: "Vink", bestand: "audio/vink.mp3" },
                { naam: "Waterhoen", bestand: "audio/waterhoen.mp3" },
                { naam: "Wilde eend", bestand: "audio/wilde eend.mp3" },
                { naam: "Winterkoning", bestand: "audio/winterkoning.mp3" },
                { naam: "Zanglijster", bestand: "audio/zanglijster.mp3" },
                { naam: "Zwarte kraai", bestand: "audio/zwarte kraai.mp3" },
                { naam: "Zwartkop", bestand: "audio/zwartkop.mp3" },
            ];

            // Willekeurig geluid kiezen uit de lijst
            let randomIndex = Math.floor(Math.random() * vogelGeluiden.length);
            let gekozenVogel = vogelGeluiden[randomIndex];
            let juisteAntwoord = gekozenVogel.naam;
            let fouteAntwoorden = [];
            while (fouteAntwoorden.length < 3) {
                let randomIndex = Math.floor(Math.random() * vogelGeluiden.length)
                let gekozenVogel = vogelGeluiden[randomIndex];
                if (gekozenVogel.naam !== juisteAntwoord && !fouteAntwoorden.includes(gekozenVogel.naam)){
                    fouteAntwoorden.push(gekozenVogel.naam);
                }
            }

            // Het gekozen geluid aan de audio-player toewijzen
            document.getElementById('audioSource').src = gekozenVogel.bestand;

            // Zorg ervoor dat de audio opnieuw wordt geladen en klaar is om afgespeeld te worden
            document.getElementById('audioPlayer').load();

            // Voeg de juiste vogel en de foute antwoorden samen in één array
            let antwoorden = [juisteAntwoord, ...fouteAntwoorden];

            // Schud de antwoorden zodat ze willekeurig worden gepresenteerd
            antwoorden = antwoorden.sort(() => Math.random() - 0.5);

            // Vul de knoppen met de antwoorden
            document.getElementById('antwoord1').textContent = antwoorden[0];
            document.getElementById('antwoord2').textContent = antwoorden[1];
            document.getElementById('antwoord3').textContent = antwoorden[2];
            document.getElementById('antwoord4').textContent = antwoorden[3];

            // Voeg de event listeners toe voor de knoppen
            document.getElementById('antwoord1').onclick = function() {
                controleerAntwoord(antwoorden[0]);
            };
            document.getElementById('antwoord2').onclick = function() {
                controleerAntwoord(antwoorden[1]);
            };
            document.getElementById('antwoord3').onclick = function() {
                controleerAntwoord(antwoorden[2]);
            };
            document.getElementById('antwoord4').onclick = function() {
                controleerAntwoord(antwoorden[3]);
            };

            // Functie die controleert of het gekozen antwoord juist is
            function controleerAntwoord(antwoord) {
                if (antwoord === juisteAntwoord) {
                    let huidigeScore = parseInt(localStorage.getItem('score')) || 0;
                    localStorage.setItem('score', huidigeScore + 1);

                    // Update het vraagnummer voor de volgende vraag
                    localStorage.setItem('huidigeVraagNummer', huidigeVraagNummer);

                    // Navigeer naar de "goed" pagina
                    window.location.href = `goed.html?vraagNummer=${huidigeVraagNummer}`;
                } else {
                    // Navigeer naar de "fout" pagina
                    window.location.href = `fout.html?vraagNummer=${huidigeVraagNummer}`;
                }
            }

        </script>
    </body>
</html>
